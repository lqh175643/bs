import{r as u,i as D,y as x,d as p,o as f,g,f as m,F as y,p as k,m as n,w as r,q as h,x as V}from"./vendor.dc59bbfd.js";import{_ as w,G as C,d as B}from"./index.7834eb9a.js";import{g as F,d as G}from"./userHome.b122435a.js";const A={name:"FootPrint",components:{Goods:C},setup(b){let t=u([]),i=u(""),o=u(!1);const a=D(),d=e=>{t.value=[],F({ids:e}).then(s=>{Array.isArray(s)&&s.length>0&&(t.value=s)},s=>{console.log(s)})},c=e=>e.jid,l=e=>{o.value=!0,i.value=e.jid},_=()=>{G({val:i.value,target:"collect"}).then(async e=>{h({message:"\u5220\u9664\u6210\u529F",type:"success",offset:60}),await B(a),d(a.getters.footprint)},e=>{h({message:"\u5220\u9664\u5931\u8D25",type:"error",offset:60})}).finally(()=>{o.value=!1})};return x(()=>{d(a.getters.footprint)}),{getRowKeys:c,tableData:t,btnDelete:l,shoucangDelete:_,dialogVisible:o}}},N={class:"goods"},P=m("span",null,"\u662F\u5426\u79FB\u9664\u6B64\u5546\u54C1",-1),U={class:"dialog-footer"},j=V("\u53D6\u6D88"),E=V("\u786E\u5B9A");function I(b,t,i,o,a,d){const c=p("Goods"),l=p("el-button"),_=p("el-dialog");return f(),g(y,null,[m("div",N,[(f(!0),g(y,null,k(o.tableData,(e,v)=>(f(),g("div",{key:v,class:"goods_item"},[n(c,{goodsData:e},null,8,["goodsData"])]))),128))]),n(_,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>o.dialogVisible=e),title:"\u786E\u5B9A\u79FB\u9664",width:"30%"},{footer:r(()=>[m("span",U,[n(l,{onClick:t[0]||(t[0]=e=>o.dialogVisible=!1)},{default:r(()=>[j]),_:1}),n(l,{type:"primary",onClick:o.shoucangDelete},{default:r(()=>[E]),_:1},8,["onClick"])])]),default:r(()=>[P]),_:1},8,["modelValue"])],64)}var K=w(A,[["render",I]]);export{K as default};
