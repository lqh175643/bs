import{i as h,_ as V}from"./index.7834eb9a.js";import{r as w,j as E,u as U,d as _,o as x,g as y,f as m,m as s,w as u,E as F,s as P,v as R}from"./vendor.dc59bbfd.js";function b(n){return h({url:"/register",method:"post",data:n})}const C={name:"Register",setup(n){const r=w(),a=E({user:"",pass:"",phone:"",pass2:"",invitation:""}),o=U();function f(){o.push({path:"/login"})}function v(){const p={user:a.user,pass:a.pass,phone:a.phone,invitation:a.invitation};r.value.validate(t=>{if(t)b(p).then(e=>{console.log(e),e.code==0?F({title:"\u6CE8\u518C\u5931\u8D25",message:e.mes,type:"warning"}):e.code==1&&(F({title:"\u6CE8\u518C\u6210\u529F",message:"\u5373\u5C06\u8DF3\u8F6C\u5230\u767B\u5F55\u754C\u9762",type:"success"}),setTimeout(()=>{f()},1e3))},e=>{throw e});else return console.log("error submit!!"),!1})}return{ruleForm:a,rules:{user:[{validator:(p,t,e)=>{t===""?e(new Error("\u8BF7\u8F93\u5165\u7528\u6237\u540D")):e()},trigger:"change"}],phone:[{validator:(p,t,e)=>{t===""?e(new Error("\u8BF7\u8F93\u5165\u624B\u673A\u53F7")):e()},trigger:"change"}],pass:[{validator:(p,t,e)=>{t===""?e(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801")):a.user===""?e(new Error("\u8BF7\u5148\u8F93\u5165\u7528\u6237\u540D")):e()},trigger:"change"}],pass2:[{validator:(p,t,e)=>{t===""?e(new Error("\u8BF7\u786E\u8BA4\u5BC6\u7801")):a.user===""?e(new Error("\u8BF7\u5148\u8F93\u5165\u7528\u6237\u540D")):t!==a.pass?e(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4")):e()},trigger:"blur"}]},ruleFormRef:r,submitForm:v,login:f}}},g=n=>(P("data-v-441796fc"),n=n(),R(),n),I={class:"login_wrapper"},B={class:"login_form"},N=g(()=>m("div",{class:"login_form_header"},"\u6B22\u8FCE\u6CE8\u518C",-1)),S=g(()=>m("div",{class:"login_form_line"},null,-1)),j=g(()=>m("div",{class:"login_form_line"},null,-1));function T(n,r,a,o,f,v){const i=_("el-input"),d=_("el-form-item"),c=_("el-form");return x(),y("div",I,[m("div",B,[N,S,s(c,{ref:"ruleFormRef",model:o.ruleForm,"status-icon":"",rules:o.rules,"label-width":"70px",class:"demo-ruleForm"},{default:u(()=>[s(d,{label:"\u7528\u6237\u540D",prop:"user"},{default:u(()=>[s(i,{modelValue:o.ruleForm.user,"onUpdate:modelValue":r[0]||(r[0]=l=>o.ruleForm.user=l),placeholder:"\u7528\u6237\u540D",autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(d,{label:"\u624B\u673A\u53F7",prop:"phone"},{default:u(()=>[s(i,{modelValue:o.ruleForm.phone,"onUpdate:modelValue":r[1]||(r[1]=l=>o.ruleForm.phone=l),placeholder:"\u624B\u673A\u53F7",autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(d,{label:"\u5BC6\u7801",prop:"pass"},{default:u(()=>[s(i,{modelValue:o.ruleForm.pass,"onUpdate:modelValue":r[2]||(r[2]=l=>o.ruleForm.pass=l),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(d,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"pass2"},{default:u(()=>[s(i,{modelValue:o.ruleForm.pass2,"onUpdate:modelValue":r[3]||(r[3]=l=>o.ruleForm.pass2=l),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(d,{label:"\u7BA1\u7406\u7801"},{default:u(()=>[s(i,{modelValue:o.ruleForm.invitation,"onUpdate:modelValue":r[4]||(r[4]=l=>o.ruleForm.invitation=l),placeholder:"\u7BA1\u7406\u5458\u586B\u5199",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),m("div",{class:"login_btn",onClick:r[5]||(r[5]=(...l)=>o.submitForm&&o.submitForm(...l))},"\u6CE8\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u518C"),j,m("div",{class:"register",onClick:r[6]||(r[6]=(...l)=>o.login&&o.login(...l))},"\u5DF2\u6709\u5E10\u53F7\uFF1F\u767B\u5F55")])])}var A=V(C,[["render",T],["__scopeId","data-v-441796fc"]]);export{A as default};
