import{_ as D,G as k,g as _,u as x,k as B,r as g,o as p,c as f,b as m,F as y,d as C,e as n,A as r,H as b,E as w,B as V}from"./index-4fd5423a.js";import{g as F,d as A}from"./userHome-07f687cc.js";const G={name:"FootPrint",components:{Goods:k},setup(h){let t=_([]),i=_(""),o=_(!1);const a=x(),d=e=>{t.value=[],F({ids:e}).then(s=>{Array.isArray(s)&&s.length>0&&(t.value=s)},s=>{console.log(s)})},c=e=>e.jid,l=e=>{o.value=!0,i.value=e.jid},u=()=>{A({val:i.value,target:"collect"}).then(async e=>{b({message:"删除成功",type:"success",offset:60}),await w(a),d(a.getters.footprint)},e=>{b({message:"删除失败",type:"error",offset:60})}).finally(()=>{o.value=!1})};return B(()=>{d(a.getters.footprint)}),{getRowKeys:c,tableData:t,btnDelete:l,shoucangDelete:u,dialogVisible:o}}},E={class:"goods"},N=m("span",null,"是否移除此商品",-1),P={class:"dialog-footer"};function U(h,t,i,o,a,d){const c=g("Goods"),l=g("el-button"),u=g("el-dialog");return p(),f(y,null,[m("div",E,[(p(!0),f(y,null,C(o.tableData,(e,v)=>(p(),f("div",{key:v,class:"goods_item"},[n(c,{goodsData:e},null,8,["goodsData"])]))),128))]),n(u,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>o.dialogVisible=e),title:"确定移除",width:"30%"},{footer:r(()=>[m("span",P,[n(l,{onClick:t[0]||(t[0]=e=>o.dialogVisible=!1)},{default:r(()=>[V("取消")]),_:1}),n(l,{type:"primary",onClick:o.shoucangDelete},{default:r(()=>[V("确定")]),_:1},8,["onClick"])])]),default:r(()=>[N]),_:1},8,["modelValue"])],64)}const M=D(G,[["render",U]]);export{M as default};
